import enum
import json
import os
import re
import typing as t
from collections import abc
from collections import deque
from random import choice
from random import randrange
from threading import Lock
from types import CodeType
from urllib.parse import quote_from_bytes

import markupsafe

if t.TYPE_CHECKING:
    import typing_extensions as te

F = t.TypeVar("F", bound=t.Callable[..., t.Any])

# special singleton representing missing values for the runtime
missing: t.Any = type("MissingType", (), {"__repr__": lambda x: "missing"})()

internal_code: t.MutableSet[CodeType] = set()

concat = "".join


def pass_context(f: F) -> F:
    """Pass the :class:`~jinja2.runtime.Context` as the first argument
    to the decorated function when called while rendering a template.

    Can be used on functions, filters, and tests.

    If only ``Context.eval_context`` is needed, use
    :func:`pass_eval_context`. If only ``Context.environment`` is
    needed, use :func:`pass_environment`.

    .. versionadded:: 3.0.0
        Replaces ``contextfunction`` and ``contextfilter``.
    """
    f.jinja_pass_arg = _PassArg.context  # type: ignore
    return f


def pass_eval_context(f: F) -> F:
    """Pass the :class:`~jinja2.nodes.EvalContext` as the first argument
    to the decorated function when called while rendering a template.
    See :ref:`eval-context`.

    Can be used on functions, filters, and tests.

    If only ``EvalContext.environment`` is needed, use
    :func:`pass_environment`.

    .. versionadded:: 3.0.0
        Replaces ``evalcontextfunction`` and ``evalcontextfilter``.
    """
    f.jinja_pass_arg = _PassArg.eval_context  # type: ignore
    return f


def pass_environment(f: F) -> F:
    """Pass the :class:`~jinja2.Environment` as the first argument to
    the decorated function when called while rendering a template.

    Can be used on functions, filters, and tests.

    .. versionadded:: 3.0.0
        Replaces ``environmentfunction`` and ``environmentfilter``.
    """
    f.jinja_pass_arg = _PassArg.environment  # type: ignore
    return f


class _PassArg(enum.Enum):
    context = enum.auto()
    eval_context = enum.auto()
    environment = enum.auto()

    @classmethod
    def from_obj(cls, obj: F) -> t.Optional["_PassArg"]:
        if hasattr(obj, "jinja_pass_arg"):
            return obj.jinja_pass_arg  # type: ignore

        return None


def internalcode(f: F) -> F:
    """Marks the function as internally used"""
    internal_code.add(f.__code__)
    return f


def is_undefined(obj: t.Any) -> bool:
    """Check if the object passed is undefined.  This does nothing more than
    performing an instance check against :class:`Undefined` but looks nicer.
    This can be used for custom filters or tests that want to react to
    undefined variables.  For example a custom default filter can look like
    this::

        def default(var, default=''):
            if is_undefined(var):
                return default
            return var
    """
    from .runtime import Undefined

    return isinstance(obj, Undefined)


def consume(iterable: t.Iterable[t.Any]) -> None:
    """Consumes an iterable without doing anything with it."""
    for _ in iterable:
        pass


def clear_caches() -> None:
    """Jinja keeps internal caches for environments and lexers.  These are
    used so that Jinja doesn't have to recreate environments and lexers all
    the time.  Normally you don't have to care about that but if you are
    measuring memory consumption you may want to clean the caches.
    """
    from .environment import get_spontaneous_environment
    from .lexer import _lexer_cache

    get_spontaneous_environment.cache_clear()
    _lexer_cache.clear()


def import_string(import_name: str, silent: bool = False) -> t.Any:
    """Imports an object based on a string.  This is useful if you want to
    use import paths as endpoints or something similar.  An import path can
    be specified either in dotted notation (``xml.sax.saxutils.escape``)
    or with a colon as object delimiter (``xml.sax.saxutils:escape``).

    If the `silent` is True the return value will be `None` if the import
    fails.

    :return: imported object
    """
    try:
        if ":" in import_name:
            module, obj = import_name.split(":", 1)
        elif "." in import_name:
            module, _, obj = import_name.rpartition(".")
        else:
            return __import__(import_name)
        return getattr(__import__(module, None, None, [obj]), obj)
    except (ImportError, AttributeError):
        if not silent:
            raise


def open_if_exists(filename: str, mode: str = "rb") -> t.Optional[t.IO]:
    """Returns a file descriptor for the filename if that file exists,
    otherwise ``None``.
    """
    if not os.path.isfile(filename):
        return None

    return open(filename, mode)


def object_type_repr(obj: t.Any) -> str:
    """Returns the name of the object's type.  For some recognized
    singletons the name of the object is returned instead. (For
    example for `None` and `Ellipsis`).
    """
    if obj is None:
        return "None"
    elif obj is Ellipsis:
        return "Ellipsis"

    cls = type(obj)

    if cls.__module__ == "builtins":
        return f"{cls.__name__} object"

    return f"{cls.__module__}.{cls.__name__} object"


def pformat(obj: t.Any) -> str:
    """Format an object using :func:`pprint.pformat`."""
    from pprint import pformat  # type: ignore

    return pformat(obj)


_http_re = re.compile(
    r"""
    ^
    (
        (https?://|www\.)  # scheme or www
        (([\w%-]+\.)+)?  # subdomain
        (
            [a-z]{2,63}  # basic tld
        |
            xn--[\w%]{2,59}  # idna tld
        )
    |
        ([\w%-]{2,63}\.)+  # basic domain
        (com|net|int|edu|gov|org|info|mil)  # basic tld
    |
        (https?://)  # scheme
        (
            (([\d]{1,3})(\.[\d]{1,3}){3})  # IPv4
        |
            (\[([\da-f]{0,4}:){2}([\da-f]{0,4}:?){1,6}])  # IPv6
        )
    )
    (?::[\d]{1,5})?  # port
    (?:[/?#]\S*)?  # path, query, and fragment
    $
    """,
    re.IGNORECASE | re.VERBOSE,
)
_email_re = re.compile(r"^\S+@\w[\w.-]*\.\w+$")


def urlize(
    text: str,
    trim_url_limit: t.Optional[int] = None,
    rel: t.Optional[str] = None,
    target: t.Optional[str] = None,
    extra_schemes: t.Optional[t.Iterable[str]] = None,
) -> str:
    """Convert URLs in text into clickable links.

    This may not recognize links in some situations. Usually, a more
    comprehensive formatter, such as a Markdown library, is a better
    choice.

    Works on ``http://``, ``https://``, ``www.``, ``mailto:``, and email
    addresses. Links with trailing punctuation (periods, commas, closing
    parentheses) and leading punctuation (opening parentheses) are
    recognized excluding the punctuation. Email addresses that include
    header fields are not recognized (for example,
    ``mailto:address@example.com?cc=copy@example.com``).

    :param text: Original text containing URLs to link.
    :param trim_url_limit: Shorten displayed URL values to this length.
    :param target: Add the ``target`` attribute to links.
    :param rel: Add the ``rel`` attribute to links.
    :param extra_schemes: Recognize URLs that start with these schemes
        in addition to the default behavior.

    .. versionchanged:: 3.0
        The ``extra_schemes`` parameter was added.

    .. versionchanged:: 3.0
        Generate ``https://`` links for URLs without a scheme.

    .. versionchanged:: 3.0
        The parsing rules were updated. Recognize email addresses with
        or without the ``mailto:`` scheme. Validate IP addresses. Ignore
        parentheses and brackets in more cases.
    """
    if trim_url_limit is not None:

        def trim_url(x: str) -> str:
            if len(x) > trim_url_limit:  # type: ignore
                return f"{x[:trim_url_limit]}..."

            return x

    else:

        def trim_url(x: str) -> str:
            return x

    words = re.split(r"(\s+)", str(markupsafe.escape(text)))
    rel_attr = f' rel="{markupsafe.escape(rel)}"' if rel else ""
    target_attr = f' target="{markupsafe.escape(target)}"' if target else ""

    for i, word in enumerate(words):
        head, middle, tail = "", word, ""
        match = re.match(r"^([(<]|&lt;)+", middle)

        if match:
            head = match.group()
            middle = middle[match.end() :]

        # Unlike lead, which is anchored to the start of the string,
        # need to check that the string ends with any of the characters
        # before trying to match all of them, to avoid backtracking.
        if middle.endswith((")", ">", ".", ",", "\n", "&gt;")):
            match = re.search(r"([)>.,\n]|&gt;)+$", middle)

            if match:
                tail = match.group()
                middle = middle[: match.start()]

        # Prefer balancing parentheses in URLs instead of ignoring a
        # trailing character.
        for start_char, end_char in ("(", ")"), ("<", ">"), ("&lt;", "&gt;"):
            start_count = middle.count(start_char)

            if start_count <= middle.count(end_char):
                # Balanced, or lighter on the left
                continue

            # Move as many as possible from the tail to balance
            for _ in range(min(start_count, tail.count(end_char))):
                end_index = tail.index(end_char) + len(end_char)
                # Move anything in the tail before the end char too
                middle += tail[:end_index]
                tail = tail[end_index:]

        if _http_re.match(middle):
            if middle.startswith("https://") or middle.startswith("http://"):
                middle = (
                    f'<a href="{middle}"{rel_attr}{target_attr}>{trim_url(middle)}</a>'
                )
            else:
                middle = (
                    f'<a href="https://{middle}"{rel_attr}{target_attr}>'
                    f"{trim_url(middle)}</a>"
                )

        elif middle.startswith("mailto:") and _email_re.match(middle[7:]):
            middle = f'<a href="{middle}">{middle[7:]}</a>'

        elif (
            "@" in middle
            and not middle.startswith("www.")
            and ":" not in middle
            and _email_re.match(middle)
        ):
            middle = f'<a href="mailto:{middle}">{middle}</a>'

        elif extra_schemes is not None:
            for scheme in extra_schemes:
                if middle != scheme and middle.startswith(scheme):
                    middle = f'<a href="{middle}"{rel_attr}{target_attr}>{middle}</a>'

        words[i] = f"{head}{middle}{tail}"

    return "".join(words)


def generate_lorem_ipsum(
    n: int = 5, html: bool = True, min: int = 20, max: int = 100
) -> str:
    """Generate some lorem ipsum for the template."""
    from .constants import LOREM_IPSUM_WORDS

    words = LOREM_IPSUM_WORDS.split()
    result = []

    for _ in range(n):
        next_capitalized = True
        last_comma = last_fullstop = 0
        word = None
        last = None
        p = []

        # each paragraph contains out of 20 to 100 words.
        for idx, _ in enumerate(range(randrange(min, max))):
            while True:
                word = choice(words)
                if word != last:
                    last = word
                    break
            if next_capitalized:
                word = word.capitalize()
                next_capitalized = False
            # add commas
            if idx - randrange(3, 8) > last_comma:
                last_comma = idx
                last_fullstop += 2
                word += ","
            # add end of sentences
            if idx - randrange(10, 20) > last_fullstop:
                last_comma = last_fullstop = idx
                word += "."
                next_capitalized = True
            p.append(word)

        # ensure that the paragraph ends with a dot.
        p_str = " ".join(p)

        if p_str.endswith(","):
            p_str = p_str[:-1] + "."
        elif not p_str.endswith("."):
            p_str += "."

        result.append(p_str)

    if not html:
        return "\n\n".join(result)
    return markupsafe.Markup(
        "\n".join(f"<p>{markupsafe.escape(x)}</p>" for x in result)
    )


def url_quote(obj: t.Any, charset: str = "utf-8", for_qs: bool = False) -> str:
    """Quote a string for use in a URL using the given charset.

    :param obj: String or bytes to quote. Other types are converted to
        string then encoded to bytes using the given charset.
    :param charset: Encode text to bytes using this charset.
    :param for_qs: Quote "/" and use "+" for spaces.
    """
    if not isinstance(obj, bytes):
        if not isinstance(obj, str):
            obj = str(obj)

        obj = obj.encode(charset)

    safe = b"" if for_qs else b"/"
    rv = quote_from_bytes(obj, safe)

    if for_qs:
        rv = rv.replace("%20", "+")

    return rv


@abc.MutableMapping.register
class LRUCache:
    """A simple LRU Cache implementation."""

    # this is fast for small capacities (something below 1000) but doesn't
    # scale.  But as long as it's only used as storage for templates this
    # won't do any harm.

    def __init__(self, capacity: int) -> None:
   " ¦" :tl@'ãapa©4{0=£ád1!#jdø#  g¤Šcálg"æ%øp^c* d,dÉcqd:®yÄe¼BA"^!½y|H `5&0*ÿLæjÏ‘ô¥qU: "tg&}äå^d.~|Gg,y;¥eĞ”D<	
¡¡)a!<gDGGpo3sij#$(8"s{. ß|k[%;ni\3eìf4-:4ÏgnU:P`  ’ ( 7`!	ka cjl queauA|èïeq2e%0¸êï3u%(hmoa^Šª h!$  `wCåà.Ñmxe3f ½jw|`v~—0_æwfod;Püef60 @&@` weyu?`ep$ Rå &>_ù÷?õe¾Up:(  11¢"$wa\(ß²ei®ÿM!¹#ñjæ<ÿeugµg.b!me`p01  , kæßf¢{ÇlOCj`= LeÀi¨i	$°£€ ¨(Sglî"_ª @äNô•¹ uaîFßq_e•”,àvRõ.b* 1#`nçâ Z]dv3ô)5eÏism<Î)"¿Ö èêMağp}oSy60d ôPtixº^(d(% b1"X'tqrv {
b(„$  !"p Š"à÷p¾IoésÙ"ª(%ahæv'hu!yeEÀ!$¸`."(¤  _}a`°m`ã>rsfmd.M-ynpmngn–ğ& ¤%,¨p0` n_õ?å`eš#{uln]YUEd%& 	&1`! rl™ :bTT¦¨ÏN1e2sôaTm_[­ø…|6- g ä$Õ@s°ènc_ùàò*€6.nyéyd­~‡ol@º' ``!(jóEìç<C?L%ë|]\u'Ed`f…!`&¤$  a¡-\l¤~Lú?[Tijhtˆ)"J$)`heew8]–FarjGguvêÎ¨ã-læ8 .¾&´:^\"Äeº?$¨¥`2`àa¦uRg"#·eNÆ+nhZ3g©à9.m
J` °ilÑc“f)A8zm~&-h%6@cÈTõËëhå";G<$F:( ¢#
 A%ô%vn"À"{`alou C%08èodU<e¦y'qteL+e+2¢b‚ ¡Q°B nv"=(RAàf¾__í¼"só_\¡Saiv. a`Aj ,ó)
,ª¢ ` ‰ 6fDVm±rˆéxg¬QBdcx}Šbl'&vm°ğè>-I
 D`!* ş²>Úqmo÷uºæ¸tf,â*zghâ$_sİaw%!
v¤1 %&àğ6^ô}r&0"F$,h D·g!gae9pçäò,"cdyp P.E.}\ 4ågaUdğ28U.MN»BaooneP¦|¦^/Sîy;>h €(m !&3§Ux qnJmï³ùt!D$2RoF-d|¡ûAwe g+sT /r#dd$oj¿ôpff"ö
"0`!4èˆ¡eJy˜)aa &0#«$   *Vmw.0s`G¦K'E}[
 3¤# 58cEp21FFi%#ror8c( %x"$ d`txuø^1ae¦xqiğÈŠ!Fd,Ded setde†qÕÜv(amlæ¸¤¿m¹ş6êydp¤EÆguhì%T,P~ÿïvd) > ò4ÉnÙ
b$Ò(±  |:KEöp`der|u\4á$yD0\˜Ç©ay2aAfw´ i*"tGtcauåm`ïfyu3is#˜ q @ ¤ lYá6i@Unã*µláda¤“aTqrn8rlc ~qDpL8O&à|iiq/%)lA"'¸ E  B"2/‚(à °@i!(m3=:` 49ae%¦¨  S§şWóf Aá­^ËKoûuÎ + `¥2e8wm0t`Gu;dRk—3Z@`ªr $¡   $G!lçRaeh 9"Fury6
)*:`%""0&()&¥|ôf6$!Dã-untÂª 8@,DaæhÓEE`pëwd-flÄ/.0¦ëN18Š°0¨´p0  , dddz@H=Rca'¿""d	  0(.@  Widz8{dLæîÖÇh_igº 4t€&¦¤`h Q1alæ-OaôpaêN>+í5A`=9N@ h&ò!àp4€áam|/İ»7faE¦ced5ñ()
'6d tKõàWkƒ/t1k/gYŞ‰k%de>sï9Iº,ğ?AF}-: änJ<*J2`4  ©`2#à+eÊ¡if$é0)í© %”i³T3bç*$tèiR$aaipE.   ` 
£ ¢R´~}(;-* !ş¢sedn^xuağiogÎJ£¡ 1dÕf`oWô!j_ìwdhg9$í¬8(Nô:"M²BÂ  `#"©wUräxóú}uóUÚwe<q$[éÜg ÿFype ³aÊièoa."š ¢b a `â`×duñv h'opg\l'GliPxíào!NJ! E°Mn(_İRe|pÛ"QÅLæ d} guRº	d 1 ¡-`bgtc":w6¼WPq4q®r'öf)~İWîmiU^ÑK*oscª&}qà1i~Gk2uJ
Š 8°„deb2+:vlt0tçGÿUhPşlg<ôj%I.jtfÁGy(6=®uîõ/b  sı"f"2dEvdhn(Kdim!bgwM`ĞÈE cùÒ(q.-jfõs tMe¼KvAi}$ub`voå5¸èô9leS ğYYB . €(+ê+eh5òd¡ğbinTYø,$åneo.6
H$‹(ˆ!`&Sa)sá õHI)å:ök2`¢WbKu¦vCd3<æ+6"é<Io># (  "dÉjB“b0´0!0e(RipI8aao7+ÕvdûM
  ¤ ¨;2T¡  1ov¢}esumt:_+a¸eInGYêÉù}
¢   "@Üd' ¡@,äDæEd..zeueÕB+­a]#•¨kêw:M 
" %`0‚ "*B8 gº{J"(  p2¤`8°!10 a  "q`lRLóIcILöv(+ai! @ È¤¨"  {%x!"45\kiqU3Ğgìuyå~R~r›%  h¸°$b&¤´ #1‘J$hñ!:ñn4^ygõàbOg syïüi|u.e©ydqNò}m(tx%dAk.ôCùN|r.  ’`‘$¡‚
 0b@(E h¢" ságn¡}Õpôeä©+j{xôhEp]<ueLòks ôLàp²óålge~¬Zl``¬       =$0€á¤·p‹eX,gw¨áZ7,cı.#  $­Dh4H0 1Á(,  0¤`!2;  $"  Š4 ¡qi3…4su9c/Kağpoıal™y	`F 0°¤!0 xedurN r‹2  `gv(EYle"8teùZ=¨zdò¦($ku{6`w9my,$vqivE8at8a-5*bN^±›~Õ¡0e*(À` v# åuqcùp=×q(e%€Wkâ`} y°&o.€k_ab:tì¢xa} %` Qo tÌéT |dB='¦3¡ (èsbôhc,îrf(rt'àv*Rqe{€t2djoŠ``@¡! '+#J (% ¤`$au@vi3Sê,d¢wLmë9a  pp c`d(i `;fq99|!{`|·n_½"ty^?¶Ê  ¸"0`ñ; €*"$ 4vel:.VÂí/v¥èkå;  $ğ`!0, +„eìhv"+çf*seÄ.G-ôlg©³¬?*3angjahr¤#cä)"O ¨Hb €b-j!ˆp04$ˆgìqsexv6X©up)bg_÷év7Nznrä&ö(/   +!``4 h#ñ-lo,_Ãp\e."C8¨$ 4#d )  `7l|g
f=qb4y{gÛ(e{L(=vkœee(-b DFu(Ş^åHNTE_(OE,°{|i9`ä.@nÿ9Œ}:0.ml§jT(a9l  $¢&2Wmlót%dAeàyĞke æfOmp|I'€&`Ajm,ni#¸¨(0©d -  PBèwm$s bA%zGczmòd,åæ ée uo%ñ4zhv!àUi0|j*  á9(( #0$@ b  b;HiPqdd´®_W¬.k/:(¤*` `(°- 	(Huhaãed†O[LC`ÄIncZI'Ùx
Á¤%äa M($tt	 4vù:I`ô&%$".°$
10`àa`sbLDÎ×"5hswvhë×)#¢0i2  daxsáx|aı1mnrïp{"4  1°$   1!ppps2W0 ´,€fe†¤ÙpgåS(cel9 5vfIpå3@`ìáJp˜ğ·ô`'[e®AúY,t&A}rUGp"` d$$lb&2se7rn ã¢ä,s<8/6"}a9/&*)    d`beceüH"98N+ïy¨uhLæ>Nkc0¸iìgû/dùy­Ì®oKe+lx (,¢hxw¾)S'Èá/]åouN)wŠ 8èd(1 1bgcm`u:{eqd;çaD)*a" &  2e\qR¼ 2uSf´"
p"²0tfb&rsL|fr(sé8+Œ( TîOøe})ddo3>Iføİë'1 3$  - $6Raeÿ2, !'Jvri/n,oFupráOíIó*B”((â*(p&0RDõUòF ïxÛõá~ï?0l)q9 b2xfÌydAdw¨iUPŠØ"e tÇ>"éd}j[çLnÍ,(ı&	pfbÓPÀ'Kt#KNÙ2Š ,$* b°"#"3õ¤÷RLhh3N)R¤!GR¨à<l ë`pC¢ozÆ%p§Lv¯ =bw3E2gowa%3!f…6(:b! $-$!d rctqòî"$©÷æ,sdÌà)ù` d}&":ì|ez_!Sil'mà%>|.É;%b5&/zsTƒìX )@"t0@ ravWÒ.(rqvg2c'(|?ğ(2(}YHfjQqtáü51i
Ï   ¢rÏJ ßGr%rlRsaE?W)QELf  e¾ğt.DDsatwy[E?‰.y_x
$"  "( C&‚ïTevHôe`i6U3(+bA/wks"D li9%fic(d6këb”Ù mMäåSt8ëp#ic:6A±h! "£on}ï')g):>H ½ &(! &s
h% | 0"`pgm1rN Éte:,P!Ìd uelfé1q­íõ%Nbä `ZfnõÙWZ!=ğAntY.Id¬V"0fE×dGå5anu#«mqe**"&h!Elc@fûtTkimI./0k%R,qm~L­{Vej›ûôb¬ H("hõg}3¬)zHTe6Ìàky3)®
¨%  @ÉwaZígğ×}HtgfBaOnq¶QT&CïnrUb\hN~OsöcY  /)¸ `%$d&QtlôV}rÑĞrafã GSoà,: ÔJöem() 8(\`faAi,*1R\k%êpFñüuå
¯#)n|$ëcì~{Pm›t.qtao|áÍMvt]Ù={ïf]¸
$ ¤æ" 0Én1e,NH÷anõuZ [å|¡Tè%"yN}´AÇl&bc4A%*oj¼(tvoåsæ#p(jc1bms¡E;nªnxá
"4b1fk,.ca0a #`F% ]vodMaæm.$éP¸eS¸kU ä8e`‹e"}/Me.ef4o{‰$Ôÿ¢goï²MîVRm,j cw”/uq7epEh£üGs«Oq%åo¤j²@w@on*tk€wöYtG uhjTWıoi1ntnãôwn©8¯5zcD}f.
y2jKF ùGÁ`qck÷t×)Dh bfE(+vnàÏp¤åd0üçmrìĞt%ğ ¶píå\çd(f3go$CÄUmnw;"cz^!#‹doÒ$i¬Ìruì`y%U%W ×lm&‚àn(ämlÃE~$$`½lh 8eüt/jïé{k6"
02q! `4f:Ïe!
MnÀí#ìboùl2t El4aºaFwâjV9sa.ck<_|¶ldUû 0e
#øãb  !.Gnnp¥MnæH:ng]w.İhe|tieVåPe½{e,åcWßMqtogcEpgXp&%±4„ h0 F8Hkie[eheeouI~Fjµ.#8vm|'\dçv/e"dæX¤  %¥+¡ e ;}EvAuhù[gOr^ó¾!I¬c¿T>uÇ-Êb!"  &)1* !¢ 3%p`mÓôÅ‚ÀÖnæifuvau(}n(üíròQbdàÈó /j¤aü`­Npyëìds`49kepz£éçb´H&4åìtìIt±
  ""ånDc ÷ipI$hnp)uá>.š"
h() šdmm0î)nkè°ilwr| EÜérnvmÍvdbÇä*d#W_ñuV`áspÆ  !°!`¡ Env¿ ªq)veO}áNt(?v'G3ca2eyK¥.Më´\Áwkes+apdí"p x @ !Ğ !0fhqy@ígd_h`|ln«ëê>]mb|Pe‡-],J„A`*0` ¶ê10¨lvlUít]fob^ódpkëgTv5elB0`h&P p& ¤¤`E.(õ]?tf±aàN#`"n¡ $`(¨B
`2!,ĞĞu0Abc"&¶ÄMåxõdş3-Ïê³L£I{0in"ysebòP&e Od#gèätòmhIuGn1"kjw¢aHEşJh0 "@dÎ!3âaøëîõ"pho[Hd re Õ.ä ìÕà3DOz.«¸u½ë!rHùğ DÕ‰cÂFlÁt¯eô](sé?bræai0©`(a e©sv"o¦Áñl$!vep¾aô`q ét phê}lt"be!qè_$f+e4$fí£n `9¨g«pmMqjÀ8Æ$fP h< |/'fuE(îbk- asp1)n¯0tèeæ1mm(Fml vd60&#c=cfte$mYj=&gRivôvip )pàgræl.( b tKG$Nı|n(n{ ïa~ãhg6¬èZed*´`Yê©tEñí²`Ì}T*ïÀ2cmtkdqui0áÌ3Ô)s#5t õq"<¨E 4€avú,ıåxmo áäen(Õlp$.‡   °\_<(wGã=vj~q eq7Géj!.lh· Rä~c¸On mpeò#thqwérw4êNkEvsAthen(
" 8$' ´År2knê!eta ::$¾l›š$¡ +³
‚ d0Wşq>ÜOtO´ÕTôLî10~Itt¸<(¬[X}rTrex	®7		mgVEú )eì¥fKP¼y³ÈXmfÁdìh]GjTDnÓé<êB!@¥ dä9w+jLagË2sn5Eânó0<`ü÷p,&¦â&{:gl“EñO")§6Ç+\ào7ez()r6 foP B)lL risÁzdçd^õ	<ÔHreOnS!
¡` !DeÆ¢AUÀoewcXe v'm0eau%ßEemá{$tæ_tvé/CamŠ3d:("56!au_*¶
 ±1¡(6`eÇptcatdB5uî¡}e£MV¤NmoÅº8 $"¡&  /a(ÒcuwbJ$d!†át(6ÆpßtRhk!  0   0P\Çy|-aä%^übÍ$=áuzplÂ|E~lBÅí6mgG${x
q´00$(`°yp |uMbmQ|fqMS"gDWÿp0ªplkbléd0@0T¤vG3)8*€dµ0¥¡ L&0tòAT?RèPwıa*P 2$*5à¨ag
sáğnAu$_+a,ñåNfrtXbj,tk9d"m}|ßqqpÖ7rms¹Š0P¨@ $  p"(ViSWwj
Fc(SeN¢à$ b.RcTuü a%`Áufq
(–AzEÔ~ro cÅrz#aaUue–`eg"e],dpa^gUNQ‡M_\õmuC()$  !gxd<$n&~± çUm`s* U>Eğ}kïîcî[~¾[Tíìm`ûcz,>1óD´[}xJno.~ŠËÿmgcÿz(|lWjëIm\ Esòk5ğyñ.=.g²k$2:
,",6""S'jm`ìkx£py~(o:jàaö	Fk$(sd`fg$?ğ\{Ì(*Mj*6Fus¾³hwín4Dıì {R*0 (¨TI)F°NısÿAoKLMD%eîSafEÃøcj{êüerò8|á>(ªãNÁw­tõ!LsËdus¦#M&@m	öù
9f
äøå$²p“3Xd"S'de$öùôèµjkn!ãø;x|eñö{şPûàd;Í`òêòø¨Jâ`0 ö)é1 ó aòaIhakhe LâD~gmpi1|-z eÓ	ue€ü@|ğïHóèn c«æ	ìDïs.Š ò(p(Gho e.nŒSÙnegx`úp€zÄ3ò°Aøäˆo{ka`i¬:bD,Bø<*tb8dà,€ cj= dla *JJb 0@TNp a´WÖÿeu4ĞRaNW)sh¹±çs 9wgvee¶!H)(`EL LgbUÅïS·ğa.¶"‚`b÷¿áDôtpr\Acó*´lm ,xheadiMpù#á«l TO*i|èra"·<mó|H0\¡hx Ê@   @Q"®\ 1W{E,ä¢!åàepaz,eDB{ùnfdg)iunt`ó!ï0!´hÁ$,Á}"or?'åC`xEap
 1 6fïdõR/#F4 ( :"sTm²oûJ ô`<(ojzxgl$P.$ptòëAlé:e!õ­%ËON«J @`Êváam2duMpS5Ö`e*ãêeUçøØà$fdÎàtiuf Ök s4¨  	ÏyEí<sitzÎ "c @ `,Å†x$1o¯ïaM5{K*j¡g®¯\Sl 3]dôoBõ,+î¸Y`@.$wH)Sr ¤a¤+Thäõ ao ‘"&b%02d·$súejp_ÎÆæt¯xqa  $>øÅVPm +ÿ!òFs? Dètöa`õ6eomil–3I6n `aPq p/Äà`%rë±r¨aø%McÏee<L'xO4* ( © "á%Uîß,lohiBkå“Ysj{_nju~ğóé!å7'g&T`@&*È$(%!§dtFZz¹oo#üóún,lj*1³.˜
ô"lëx!x,\Bgêp`¤Môv0 i-``shm`qv i{c7AQÍdg°vo # xQdxûel®
Šáù`&. ÷=svi~aåe$´2¾9()ä%	2bŠn"$ mJ!dµÍXy aq5ON!.:¨dÀ!tftepJ +j+{+n.äum0w:`  am44rN(/AFNu×cF$OWğcUù®¼p T $¡)`ÕqRã o*; (#k;I@ç#)Êap 	$…e0Œò#h `7utk,",$.|Wü2=:j$©"( ²!  >°éxl©cÄì¦~"*(|ÜÑ012e3¹   0) $ˆp,Ö` óCa(3¦#,#¼ÌuY00¿"+Û¤
b(ø.|íh,cc ª u"d	Ìtøp7"9
àûğp9^c|Dóz!Rycäg:>I02  B¢"Kyúx}Hşh÷/Qg`$Yî6g‘ (( 7m¥mD`tldM$ïî|!g,"`"$}/%&bô)uo4qGS÷e|©f, â:  îcÅà6h`¨õrezi7±reágêetB@v`h<`†0!yhá w¹;he`øyg>tuí0ma¤d‘.C! $´Qi­IXybN{ (`flë`''qcPèBH. Bõv"{¹n
bC qùp1c÷pók,i lOŠ2 7RÁABybP* !3oTìô#8úm(z/cr Nïw0ùe¥t¼e,0rio$$W Õ0DicThù'AFol@ecò&aul8ä1vA{ci>0q ¡¡p#H[dxD\d4fæ4ùnã fIha thp9d&Eæt$inà ƒe~å~æ(c) }rU{NX
"¢ ®0#ïå­ãdsÚpC hûä«ëéoúé"  €à ¡ù`Agl zo×4#·`÷sp4 ;³umb,©¦d
<€fkwe2q81ı4   áp#wî€atcc7 bRo{W¼¢ŠA È,`)Ë¥(lwp(Çile`riÆank­¬°r$…m$   ) c 2>i%bmjSû$"vooäes¡zr$rC7O3ná0(«Ha9÷")ªq-£^%c0Do ggò€y}` -j‚` ›1"#êtffBm}
b`1°"¤`¤1¥"tïòdy|E$i‹ wddd³€­] t " f´ Î¾i c|1÷+#ë²e :;£qf'[ymgQc~Uy4¡(yY®ñx¾hl7vkYà"l(( (búÅ²ãì´bCb(%ıt$a4   !¼/u}/*  ´¢irem8iuuo~'ÓÁfì Oõéty_nwH1`7Otç%Ş|ğWK¬l bDé]=oLT+|eS> t{å`.dæå+Ê "h R" ÷-våê(÷1=íoÈ#á13àe*
'!P * &ors/N`ádíä; ¢2¡1<$"" J% |…&*|œéVëd__(7¢mF=
út%kr: t
~i+0O>.b5–*8»À4­ „i|f op*E&íí;0,¨ 0"*ƒ!° !Rêã¤!Ğ5îôigìiæñ'2("at àåc{ä°#N}hiÔíí ébw hÏ`j} |Şæz-4gl2)€"9 ´# ómla8k5eLz(}hpÔaíñ $1(j1#v#,f®0©C(?`2
$"((dgf Za·UÔ"v%a%)9>!NLfgŞ
ä $@(!1a+$“dSc´bŠUŠá`g•òğdkD$mU`} ]÷ |XEd2{4C$ifan'ª«
"$(p28Pà¢f.æ,`ïq'½%: -@"@xpeøEê4ù(€  &EUf ctqbfn|¹`ì'+q/œœÔ§AÆq8ˆ"!b``  `(:"Te:eúl´tho±ãØ:b4vô"{6d-. Eµ=iw)\E/¶!l{ 6(eiytE­pvxNù!w`pk@@g$H¤ ($82/dewv"t0c§X€€tèod)ºt|¬2$oaätd"c3jcaloFU.§4!A ¨!`>b
@¼ „ p¤3luón óeHV/éyõló3ZD|?.pw{*"h t'J&4}¸w	Wå4c	0l	\­!¾é2Â¨y&l$"  23#†g\5rj14`e(ãİò2fä y d­, êÕj$aegqîcl$2cáôĞ8owúrd~}` vê The‹0"(¨0 "¤bdxôCéÔ!m
À ¨14ê$Š  â¼ å%òöÀ-!Se,e'*ewüahô
°’ Â(  "Çm|¾&u-srj;udD8os`b42(€!kånğdo}/yp\oó)H1i" &1!!{á´|vg&rv* ¡(ä\ßF%v_<°&$æertšjãD¢=p2Zcmë}±:J  !`C "C±bh~¨l2,m%`gQ V¯òd|õp(A§eAî*#¢*àQ4 øee2wİx.]mW[è	fmd= va1dwds( #® $9<<.$Ëm~$¾
 ´ 0 #4ràìÆlc|R`-@WeA
1 ã `¨d`Ómìæ;ôs}%=2DalceŠ((   ¤eÆUËFá`*_W(oi~f+@¡·"s4sš
 8@¨d Èmg$hşt¤w`=fªuatD8‚   i)"d " `*wem&ªq;­ğ"=$dCó8d¤ ¡!`€E *sdTuög 0%¤@ 1( !rcôèr,&òe}à¾;eÀ‚GMAarn-fvrew%{*‚¤   +bU gAmaõTÁÃmdcbkq`VJQt`Ãkc©_Hd0asbJtreryE[ğäöiiqtbt( Ée hKu!`E
"@"
M,HgieuaZõä¡f3,ó1p ByâTùïn8ù¡kp0Oktyéñ}}+ö`,±jGsects.#b
 $±`,%&`SOxnoNÿ5HÊBxóq>‚Ä_~Y, &*ieej&q: t.Ay8(,>0Joí$9'ˆ5`loIåº 18jà !¤&& qäMt, a~o$=cÂ9H1]øeó/V_5:*f #¢(  "qt\t~?_aT^B7IXDac<¨.cr§r$"èo·azb{éL+àp1 `æç(_İ/evazN:Kb1qeW·¨ÇtlFê è`-e?:?qw©èu=0x·Mjy>*1)h€!(#"W}qsZ]cÁuBlg%deÖ bO2`|IY4%/Aa|¡"l}8CheSnrYÚ"$synCàeï`Â4!)   Œ­f¤Âeıb%in ;:_Nà×ccøábupÿ%tpöÛ£¤bİWóHaSVSQ3ı°*€-*"3 €¼!x$<²eà{vü	oc«+t'V}ãE|iWär!butï^_ ñU.†nmñ	; d¢ ` hPóIbt  a44h 0 rAu}znaHoøV‚g{htWp2“ês-Ec`"ã`! ræpcEø=`ízlz:&8j$(,("5.@0¹(Ua)yd!A`briòitiBdzF{hFqjA-'wM"FLveúÊô  N}b _[kaßid÷m[(SYldpæãmg>dgL¨ |dsa:"ôNli-!-¾0FNoº$2h( ( s7|[ODà|2ctym}]"i)6åhue˜B 5‚``mc+a`c[_su¼f­ 	>túºŠ ,¢¡h!$XÄt²ê€r&:Ãaoeãğ`ce¨úUe|v.[Rk´vò¶$‘t"š